From 2d4410b5fb1d5422c9875e6ac772d4e027f23666 Mon Sep 17 00:00:00 2001
From: Diego Nascimento <diego.nascimento@liferay.com>
Date: Mon, 18 Oct 2021 17:45:43 -0300
Subject: [PATCH] LPS-137763 If contentsElement is defined, use it as a
 fallback for editor.ui.space('contents') (themedui)

---
 core/creators/themedui.js | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/core/creators/themedui.js b/core/creators/themedui.js
index 94f64f1b55..73019a3e44 100644
--- a/core/creators/themedui.js
+++ b/core/creators/themedui.js
@@ -214,7 +214,11 @@ CKEDITOR.replaceClass = 'ckeditor';
 			}
 
 			// Clear up the mode space.
-			editor.ui.space( 'contents' ).setHtml( '' );
+			if (editor.ui.contentsElement) {
+				editor.ui.contentsElement.setHtml('');
+			} else {
+				editor.ui.space( 'contents' ).setHtml( '' );
+			}
 
 			editor.mode = '';
 		} else {
